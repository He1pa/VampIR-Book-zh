# Iter 函数

通常，我们会想要一遍又一遍地重复一个函数。 为此，Vamp-IR 包含 `iter` 函数。 它需要三个参数:

1. 非负常数。
2. 迭代函数。
3. 需要迭代的参数。

例如，如果指数函数尚未内置，我们可以通过 `iter` 来实现它。

```haskell
def exp_rec m r = m * r;
def exp m n = iter n (exp_rec m) 1;

exp 3 2 = 9;
```

`iter` 必须能够在电路生成时展开，这意味着常数不能是在证明时才决定的字段元素。 对于未绑定的 `x`，`iter x f 3` 将给出错误，提示 `x` 必须是常量。

`iter` 的主要限制是该函数必须接受一个（简单类型的）X 并生成另一个 X。如果输入和输出类型不匹配，我们将收到类型错误。 这在很大程度上阻止了 `iter` 和元组之间有用的交互。 例如，尝试以下操作

```haskell
iter 2 tail (1, 2, 3, 4, ());
```

将产生一个错误，提示 `([138], [137])` 无法与 `[137]` 统一。 这告诉我们 `tail` 的输入和输出类型不能相同；输入必须是元组 `([138], [137])`，而输出必须与元组第二个元素 `[137]` 具有相同类型。
